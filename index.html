<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>mapleelpam/programnode-transport-protocol @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #3c9a99;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #ffffff;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #c36566; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #c36566; }
    h3 { text-align: center; color: #c36566; }
    a { color: #c36566; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
</head>

<body>
  <a href="http://github.com/mapleelpam/programnode-transport-protocol"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/mapleelpam/programnode-transport-protocol/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/mapleelpam/programnode-transport-protocol/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/mapleelpam/programnode-transport-protocol">programnode-transport-protocol</a>
      <span class="small">by <a href="http://github.com/mapleelpam">mapleelpam</a></span></h1>

    <div class="description">
      Thrift description file to transport Abstract Syntax Tree 
    </div>

    <p>
namespace java tw.maple.generated
namespace cpp tw.maple.generated

typedef list<string> StringList

enum ExpressionType
{
    IDENTIFIER,
    CALL
}

enum IdentifierType
{
    TYPE_IDENTIFIER,
    ATTR_IDENTIFIER,
    IDENTIFIER, 
}
enum ObjectType
{
    TYPE_CLASS,
    TYPE_INTERFACE,
}

struct Identifier
{
    1: IdentifierType type,
    2: string name,
    3: string qualifier,
}

struct Literal
{
    2: string value,
}

struct CallExpression
{
    1: bool is_new = 0,
    2: string mode,
}

struct ClassDefinition
{
    1: string name,
    2: bool has_attr,
    3: bool has_baseclass,
    4: bool has_interface,
    5: bool has_stmt,
    6: StringList       inherits,
    7: StringList       interfaces,
    8: ObjectType  object_type;
    9: string   attribute,
}

struct BinaryExpression 
{
    1: string op = "";
}
struct UnaryExpression 
{
    1: string op = "";
}

service AstDumper
{
    oneway void startProgram( ),
    oneway void endProgram( ),

    oneway void startPackage( 1: StringList id ),
    oneway void endPackage( 1: StringList IDs ),

    oneway void startFunctionDefinition( 1: bool isAbstract),
        oneway void functionAttribute( 1: StringList attrs ),

        oneway void functionName( 1: string name ),

        oneway void startFunctionCommon( ),
        oneway void startFunctionSignature(  1: string type ),
            oneway void startFunctionSignatureParameters( ),
                oneway void startFunctionSignatureParameterMember( 1: string name, 2: StringList type ),
                oneway void endFunctionSignatureParameterMember( ),
            oneway void endFunctionSignatureParameters( ),
        oneway void endFunctionSignature( ),

        oneway void endFunctionCommon( ),
    oneway void endFunctionDefinition( ),

    oneway void startReturnStatement( ),
    oneway void endReturnStatement( ),

	oneway void startExprCondition( ),
	oneway void endExprCondition( ),

    oneway void startIfStatement( ),
    oneway void endIfStatement( ),

    oneway void startStmtExpression( ),
    oneway void endStmtExpression( ),

    oneway void startExpressionList( ),
        oneway void startCallExpression( 1: CallExpression call ),
            oneway void startArgumentList(),
                oneway void startOneArgument(),
                oneway void endOneArgument(),
            oneway void endArgumentList(),
        oneway void endCallExpression(),

        oneway void startBinaryExpression( 1: BinaryExpression op ),
        oneway void endBinaryExpression( ),

        oneway void startInstanceOfExpression( ),
        oneway void endInstanceOfExpression( ),

        oneway void startIsOperator( ),
        oneway void endIsOperator( ),

        oneway void startUnaryExpression( 1: UnaryExpression op ),
        oneway void endUnaryExpression( ),

        oneway void startVariableDeclare(  1: string name, 2: StringList type, 3: string attributes  ),
        oneway void endVariableDeclare( ),

        oneway void startAssignment(),
        oneway void endAssignment(),

        oneway void identifierExpression( 1: Identifier id ),
        oneway void literalStringExpression( 1: Literal str ),
        oneway void literalNumberExpression( 1: Literal str ),
        oneway void literalBooleanExpression( 1: Literal str ),
    oneway void endExpressionList( ),

    oneway void addImport( 1: StringList packages ),   // Do we need this? using namespace? or what ever suck?

    oneway void startStmtList(),
    oneway void endStmtList(),
    oneway void startScope(),
    oneway void endScope(),

    oneway void startClassDefinition( 1: ClassDefinition class_define ),

        oneway void startClassStmt(),
        oneway void endClassStmt(),
    oneway void endClassDefinition(),

    oneway void startAttributeList(),
    oneway void endAttributelist(),

    oneway void startMemberExpression(),
    oneway void endMemberExpression(),

    oneway void startForStatement( ),
    	oneway void startForInit( ),
    	oneway void endForInit( ),
    	oneway void startForStep( ),
    	oneway void endForStep( ),
    oneway void endForStatement( ),

    oneway void startDoStatement( ),
    oneway void endDoStatement( ),
    oneway void startWhileStatement( ),
    oneway void endWhileStatement( ),
}</p><h2>License</h2>
<p>Apache</p>
<h2>Authors</h2>
<p>Kai-Feng Chou (mapleelpam@gmail.com)<br/><br/>      </p>
<h2>Contact</h2>
<p>Kai-Feng Chou 周凱楓 (mapleelpam@gmail.com)<br/>      </p>


    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/mapleelpam/programnode-transport-protocol/zipball/master">zip</a> or
      <a href="http://github.com/mapleelpam/programnode-transport-protocol/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/mapleelpam/programnode-transport-protocol</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/mapleelpam/programnode-transport-protocol">mapleelpam/programnode-transport-protocol</a>
    </div>

  </div>

  <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-23364702-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
